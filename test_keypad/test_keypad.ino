/* Copyright 2019, Luccioni Jesus Emanuel
 * All rights reserved.
 */
/** \addtogroup main_c main_c module
 ** @{ */
/********************************[Header File]*************************************//**
 * @file  proyect name
 * @brief proyecto princial
 * @version version
 * @date   dom 30 de junio 2019
 * @note none
 * @par jel
 *************************************************************************************/
/*
 *
 **********************************************************************************************
 *
 * ==========================[ Begin, Add header file ]==========================
 *
 * ******************************************************************************************** */
#include <Arduino.h>
//#include "typedef.h"
#include "systick.h"
/**/
#include "ledBlinky.h"


/*--definimos los pines antes de incluir el header file*/

#define keypad_pinCOLUMN_01		17 /**<@brief pin Columna 1 Entrada, pull-Up digita */
#define keypad_pinCOLUMN_02		16 /**<@brief pin Columna 2 Entrada, pull-Up digita */
#define keypad_pinCOLUMN_03		15 /**<@brief pin Columna 3 Entrada, pull-Up digita */
#define keypad_pinCOLUMN_04		14 /**<@brief pin Columna  Entrada, pull-Up digita */
#define keypad_pinFILA_01		21 /**<@brief pin Fila 1 salida digita */
#define keypad_pinFILA_02		20 /**<@brief pin Fila 2 salida digita */
#define keypad_pinFILA_03		19 /**<@brief pin Fila 3 salida digita */
#define keypad_pinFILA_04		18 /**<@brief pin Fila 4 salida digita */

#include "keypad.h"
#include "deco7seg.h"
/*
 * **********************************************************************************************
 *
 * ==========================[ End, Add header file ]==========================
 *
 * ******************************************************************************************** */
/*
 *
 **********************************************************************************************
 *
 * ==========================[ Begin, Labels for project config ]==========================
 *
 * ******************************************************************************************** */
#define LED_OK_PIN  13


#define map_keypad_version 0x02
/*
 * **********************************************************************************************
 *
 * ==========================[ End, Labels for project config ]==========================
 *
 * ******************************************************************************************** */
/*
 *
 **********************************************************************************************
 *
 * ==========================[ Begin, typedef for project ]==========================
 *
 * ******************************************************************************************** */

/*
 * **********************************************************************************************
 *
 * ==========================[ End, typedef for project ]==========================
 *
 * ******************************************************************************************** */



/*
 *
 **********************************************************************************************
 *
 * ==========================[ Begin, Add Macro Labels ]==========================
 *
 * ******************************************************************************************** */

/* macros labels de encendido y apagado de leds */

/*
 * **********************************************************************************************
 *
 * ==========================[ End, Add Macro Labels ]==========================
 *
 * ******************************************************************************************** */

/*
 *
 **********************************************************************************************
 *
 * ==========================[ Begin, Macro Function ]==========================
 *
 * ******************************************************************************************** */


/*
 * **********************************************************************************************
 *
 * ==========================[ End, Macro Function ]==========================
 *
 * ******************************************************************************************** */
/*
 *
 * *********************************************************************************************
 *
 * ==========================[ begin, local Function declaration ]==========================
 *
 * ******************************************************************************************** */

/*
 *
 **********************************************************************************************
 *
 * ==========================[ End, local Function declaration ]==========================
 *
 * ******************************************************************************************** */
/*
 * ====================================================================================================================
 */
/*
 *
 * **********************************************************************************************
 *
 * ===============================[ Begin, declaracion de variables ]================================
 *
 * ********************************************************************************************
 * todo :declaracion de variables
 *
 * */
ledBlinky_c LedOk(LED_OK_PIN);

#if (map_keypad_version == 0x01)
unsigned char mapKeypad[keypad_NUM_FILA][keypad_NUM_COLUM]={\
								{'1','2','3','A'},\
								{'4','5','6','B'},\
								{'7','8','9','C'},\
								{'*','0','#','D'}};
#elif (map_keypad_version == 0x02)
unsigned char mapKeypad[keypad_NUM_FILA][keypad_NUM_COLUM]={\
								{1,2,3,0x0F},\
								{4,5,6,0x0E},\
								{7,8,9,0x0D},\
								{0x0A,0,0x0B,0x0C}};
#endif

/* **********************************************************************************************
 *
 * ===================================[ End, declaracion de variables ]===================================
 *
 * ********************************************************************************************
 *
 * */
/*
 * ******************************************************************************//**
 * \fun void setup(void)
 * \brief definicion de la funcion principal de configuracion, en la cual nos
 *  encargamos de cofigurar e inicializar todo el hardware y objetos relacionado
 *  al proyecto.
 * \return nothing
 * @note
 * **********************************************************************************/
void setup()
{
  deco7seg_Init();
#if(__keypad_VERSION__ == 0x01)
  keypad_init(deco7seg_update);
#elif(__keypad_VERSION__ == 0x02)
  keypad_init(deco7seg_update,mapKeypad);
#endif
  LedOk.set(2);
}
/*
 * ******************************************************************************//**
 * \fun void loop(void);
 * \brief definicion de la funcion de super loop, cuerpo del sistema embebido.
 * En el cuerpo de esta debemos colocar todas las funciones que se deben ir
 * actualizando de forma periodica.
 * \return nothing
 * **********************************************************************************/
void loop()
{
  LedOk.update();
  keypad_update();
}
/*
 * ====================================================================================================================
 */
/*
 * **********************************************************************************************
 *
 * ==========================[ begin, local Function declaration ]==========================
 *
 * **********************************************************************************************
 */
/*
 * **********************************************************************************
 * \fun void function(void);
 * \brief funcion nucleo llamada desde el super loop para cambiar los blink del
 * led bajo test. *
 * \return nothing
 * **********************************************************************************/
void function(unsigned char value)
{

}

/*
 *
 * **********************************************************************************************
 *
 * ==========================[ End, local Function Definition ]==========================
 *
 * ******************************************************************************************** */
